webpackJsonp([1],{"/8HW":function(e,t){},0:function(e,t){},"4+hh":function(e,t){},"41OO":function(e,t){},BZUQ:function(e,t){},IFS7:function(e,t){},Ii5r:function(e,t){},Jq5x:function(e,t,o){e.exports=o.p+"static/img/WPIxMiljopunkt.96a041c.png"},NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("7+uW"),a={name:"App",data:function(){return{menuVisible:!1,username:"",accountTabLabel:"My Account"}},methods:{displayUserName:function(){this.getCookie("token");this.username=this.getCookie("username")},getCookie:function(e){for(var t=e+"=",o=decodeURIComponent(document.cookie).split(";"),n=0;n<o.length;n++){for(var a=o[n];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(t))return console.log(a.substring(t.length,a.length)),a.substring(t.length,a.length)}return""},checkForToken:function(){var e=this.getCookie("token");return console.log(e),e.length>0},setAccountTabLabel:function(){this.checkForToken()?this.accountTabLabel="My Account":this.accountTabLabel="Log In"}},beforeMount:function(){this.displayUserName(),this.setAccountTabLabel()},updated:function(){this.displayUserName(),this.setAccountTabLabel()},mounted:function(){}},i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("div",{staticClass:"page-container"},[o("md-app",{attrs:{"md-waterfall":"","md-mode":"fixed-last"}},[o("md-app-toolbar",{staticClass:"md-large md-dense md-primary"},[o("div",{staticClass:"md-toolbar-row"},[o("div",{staticClass:"md-toolbar-section-start"},[o("span",{staticClass:"md-title"},[e._v("Noise Complaint App")])]),e._v(" "),e.username.length>0?o("span",{attrs:{id:"loginName"}},[e._v("Logged In: "+e._s(e.username))]):e._e()]),e._v(" "),o("div",{staticClass:"md-toolbar-row"},[o("md-tabs",{staticClass:"md-primary",attrs:{"md-alignment":"centered","md-sync-route":""}},[o("md-tab",{attrs:{id:"tab-menu","md-label":"Menu",to:"/"}}),e._v(" "),o("md-tab",{attrs:{id:"tab-submit","md-label":"Submit A Complaint",to:"/SubmitAComplaint"}}),e._v(" "),o("md-tab",{attrs:{id:"tab-create","md-label":"Register",to:"/CreateAUser"}}),e._v(" "),o("md-tab",{attrs:{id:"tab-about","md-label":"About",to:"/About"}}),e._v(" "),o("md-tab",{attrs:{id:"tab-login","md-label":e.accountTabLabel,to:"/Login"}})],1)],1)]),e._v(" "),o("md-app-content",[o("br"),e._v(" "),o("router-view")],1)],1)],1)])},staticRenderFns:[]};var r=o("VU/8")(a,i,!1,function(e){o("he8f"),o("khIr")},"data-v-43f625d0",null).exports,s=o("/ocq"),l={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h1",[e._v("Welcome!")]),e._v(" "),o("p",[e._v("Welcome to the Noise Complaint App! This app serves two purposes: to help inform about Copenhagen’s noise complaint process and to collect nightlife noise complaint data. The app will walk you through the process of submitting a noise complaint. Currently, we are only accepting noise complaints pertaining to street noise and private celebrations; however, the app will walk you through the process of submitting any other type of noise complaint to the proper authorities.")]),e._v(" "),o("p",[e._v("For the testing period, we ask you to create a username and password that will allow you into the noise complaint system. Please visit the create an account tab at the top of the screen to do so.")]),e._v(" "),o("p",[e._v("Please note that this app is not finished yet and is currently being worked on. Before our system becomes available to the public we will be clearing the database of all complaints, and accounts created during the testing period. However, please refrain from submitting any personal information in a complaint as we are still actively improving the data security systems.")]),e._v(" "),o("h2",[e._v("Disclaimer")]),e._v(" "),o("p",[e._v("Your noise complaint submission will be sent to our database for noise disturbance data collection. For any emergencies, please contact the police at 114.")])])}]};var d=o("VU/8")({name:"main-menu"},l,!1,function(e){o("41OO")},"data-v-251bc167",null).exports,c=o("Xxa5"),u=o.n(c),m=o("exGp"),p=o.n(m),h=o("nrd6"),v=o.n(h),f={name:"leaflet-map",props:{newCoords:{latitude:{type:Number,default:0},longitude:{type:Number,default:0}}},data:function(){return{mymap:{},myMarker:{},curCoords:{latCoord:{type:Number,default:0},longCoord:{type:Number,default:0}}}},mounted:function(){var e=v.a.map("mapid",{minZoom:13,maxZoom:18,maxBounds:[[55.71,12.5],[55.65,12.66]]}).setView([55.681078,12.565966],13);v.a.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw",{attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://mapbox.com">Mapbox</a>',id:"mapbox.streets"}).addTo(e),this.myMarker=v.a.marker([55.681078,12.565966],{draggable:!0}).addTo(e);var t=this;this.myMarker.on("dragend",function(e){t.curCoords.latCoord=this.getLatLng().lat,t.curCoords.longCoord=this.getLatLng().lng,t.$emit("coordsChanged",t.curCoords)}),this.mymap=e},methods:{updateCoords:function(){this.curCoords.latCoord=this.newCoords.latitude,this.curCoords.longCoord=this.newCoords.longitude,this.mymap.setView([this.curCoords.latCoord,this.curCoords.longCoord],this.mymap.getZoom()),this.myMarker.setLatLng([this.curCoords.latCoord,this.curCoords.longCoord]).update()}},watch:{newCoords:{handler:function(e,t){this.updateCoords()}}}},g={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",this._b({attrs:{id:"mapid",width:"100%"}},"div",this.mymap,!1))])},staticRenderFns:[]};var _=o("VU/8")(f,g,!1,function(e){o("P0de")},"data-v-4e6acdb0",null).exports,b=o("E+XS"),C=o("mvHQ"),k=o.n(C),y={data:function(){return{}},methods:{cookieExists:function(e){return null!==this.getCookie(e)},compileCreateCredentials:function(e){var t=new FormData;return t.append("username",e.username),t.append("password",e.password),t.append("first_name",e.firstName),t.append("last_name",e.lastName),t},compileCredentials:function(e){var t=new FormData;return t.append("username",e.username),t.append("password",e.password),t},compileComplaint:function(e){var t=new FormData;return t.append("category",e.category),t.append("sub_category",e.sub_category),t.append("latitude",String(e.latitude)),t.append("longitude",String(e.longitude)),t.append("comments",e.comments),null!=e.imageUP&&t.append("image",e.imageUP,e.imageUP.name),null!=e.audioUP&&t.append("audio",e.audioUP,e.audioUP.name),t},getCookie:function(e){for(var t=e+"=",o=decodeURIComponent(document.cookie).split(";"),n=0;n<o.length;n++){for(var a=o[n];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(t))return console.log(a.substring(t.length,a.length)),a.substring(t.length,a.length)}return""},postToUsers:function(e,t,o,n,a){var i=this,r=this.compileCreateCredentials(t);fetch(e+"/users/",{mode:"cors",body:r,method:"POST"}).then(this.handleErrors).then(function(e){return e.json()}).then(function(e){"function"==typeof o&&o(e,a,i)}).catch(function(e){"function"==typeof n&&n(e,a)})},createUser:function(e,t){y.methods.postToUsers(this.$api,e,function(t,o,n){var a={username:e.username,password:e.password,token:""};o.invalidCreation=!1;var i=function(e,t){console.log("Complaint Success"),t.invalidToken=!1,t.$router.push("/")};n.postToGetToken(o.$api,a,i,function(e,t){console.log(e),t.invalidToken=!0},o)},function(e,t){console.log(e),t.errorMessage=e.message,t.invalidCreation=!0},this)},postToComplaints:function(e,t,o,n,a){var i=this.compileComplaint(t),r="Token "+JSON.parse(this.getCookie("token"));console.log(r),fetch(e+"/complaints/",{mode:"cors",headers:{Authorization:r},body:i,method:"POST"}).then(this.handleErrors).then(function(e){"function"==typeof o&&o(e,a)}).catch(function(e){"function"==typeof n&&n(e,a)})},postToGetToken:function(e,t,o,n,a,i){var r=this;console.log(t);var s=this.compileCredentials(t);fetch(e+"/get-token/",{mode:"cors",body:s,method:"POST"}).then(this.handleErrors).then(function(e){return e.json()}).then(function(e){return k()(e.token)}).then(function(e){if(console.log(e),t.token=e,r.clearAllCookies(),a.rememberMe){var n=new Date(Date.now());n.setDate(n.getDate()+7);var i=n.toUTCString();document.cookie="username="+t.username+"; expires="+i+";",document.cookie="token="+e+"; expires="+i+";"}else document.cookie="username="+t.username,document.cookie="token="+e;"function"==typeof o&&o(e,a)}).catch(function(e){"function"==typeof n&&n(e,a)})},deleteCookie:function(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"},clearAllCookies:function(){this.deleteCookie("token"),this.deleteCookie("username")},handleErrors:function(e){if(!e.ok)throw Error(e.statusText);return e}},created:function(){}},w={name:"SubmitAComplaint",props:{},mixins:[y],components:{"leaflet-map":_},data:function(){return{newComplaint:{username:"",password:"",category:"",sub_category:"",latitude:55.681078,longitude:12.565966,comments:"",imageUP:null,audioUP:null},returnParty:"Police",lookupAddress:"",provider:null,formIndex:0,endFormIndex:4,myCredentials:{username:"",password:""},mapInteracted:!1,imageUpload:null,audioUpload:null,formSteps:["login","category","location","submit","done"],categories:[{key:1,value:"Street Noise"},{key:2,value:"Private Celebration"},{key:3,value:"Bar/Restaurant"},{key:4,value:"Construction"}],sub_categories:[{key:1,value:"Loud Music/Party"},{key:2,value:"Loud Talking/Shouting"},{key:3,value:"Banging/Pounding"}],noiseGuardCategories:["Bar/Restaurant","Construction"]}},methods:{searchAddress:function(){var e=this;return p()(u.a.mark(function t(){var o,n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=document.getElementById("addressBox").value,t.next=3,e.provider.search({query:o});case 3:n=t.sent,e.newComplaint.longitude=n[0].x,e.newComplaint.latitude=n[0].y,e.mapInteracted=!0;case 7:case"end":return t.stop()}},t,e)}))()},isNoiseGuard:function(e){for(var t=this.noiseGuardCategories,o=0;o<t.length;o++)if(e===t[o])return!0;return!1},onNoiseGuardSelected:function(){this.isNoiseGuard(this.newComplaint.category)?this.returnParty="Noise Guard":this.returnParty="Police"},getUserLocation:function(){var e,t=this;e=function(e){null!=e&&(t.newComplaint.latitude=e.coords.latitude,t.newComplaint.longitude=e.coords.longitude,t.mapInteracted=!0)},navigator.geolocation?navigator.geolocation.getCurrentPosition(e):e(null)},backButtonPressed:function(){this.formIndex>0&&(this.formIndex=this.formIndex-1)},nextButtonPressed:function(){this.formIndex<this.endFormIndex-1&&(this.onNoiseGuardSelected(),"Noise Guard"===this.returnParty&&this.formIndex>=1?this.formIndex=4:this.formIndex=this.formIndex+1)},onDragMapCoords:function(e){this.newComplaint.latitude=e.latCoord,this.newComplaint.longitude=e.longCoord,this.mapInteracted=!0},resetMarker:function(){this.newComplaint.latitude=55.681078,this.newComplaint.longitude=12.565966},onImageSelected:function(e){this.imageUpload=e.target.files[0],this.newComplaint.imageUP=this.imageUpload},onAudioSelected:function(e){this.audioUpload=e.target.files[0],this.newComplaint.audioUP=this.audioUpload},submitComplaint:function(e,t){this.formIndex===this.endFormIndex-1&&(this.sendToDatabase(e,t),this.formIndex=this.formIndex+1)},sendToDatabase:function(e,t){y.methods.postToComplaints(this.$api,t,function(e,t){console.log("Complaint Success")},function(e,t){console.log(e)},this)},getCookie:function(e){for(var t=e+"=",o=decodeURIComponent(document.cookie).split(";"),n=0;n<o.length;n++){for(var a=o[n];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(t))return console.log(a.substring(t.length,a.length)),a.substring(t.length,a.length)}return""},checkForToken:function(){return this.myCredentials.token=this.getCookie("token"),console.log(this.myCredentials.token),this.myCredentials.token.length>0}},created:function(){},mounted:function(){this.provider=new b.OpenStreetMapProvider}},x={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"greetings"},[o("h1",[e._v("Submit A Complaint")]),e._v(" "),o("md-steppers",{attrs:{"md-active-step":e.formSteps[e.formIndex],"md-linear":""}},[o("md-step",{attrs:{id:e.formSteps[0],"md-description":e.formIndex[0],"md-label":e.formIndex[0]},on:{click:function(t){e.formIndex=0}}},[e.checkForToken()?e._e():[o("h2",[e._v("You must be logged in to submit a complaint.")]),e._v(" "),o("router-link",{attrs:{to:"Login"}},[e._v("You can log in here")])],e._v(" "),e.checkForToken()?[o("h2",[e._v("You are currently logged in as: "+e._s(e.getCookie("username")))]),e._v(" "),o("span",{staticStyle:{"text-align":"center"}},[e._v("Press next to continue")])]:e._e()],2),e._v(" "),o("md-step",{attrs:{id:e.formSteps[1],"md-label":e.formIndex[1],"md-done":e.newComplaint.category.length>1},on:{click:function(t){e.formIndex=1}}},[o("h2",{attrs:{align:"left"}},[o("u",[e._v("Category")])]),e._v(" "),o("md-field",[o("label",[e._v("Category")]),e._v(" "),o("md-select",{attrs:{name:"category",id:"category"},model:{value:e.newComplaint.category,callback:function(t){e.$set(e.newComplaint,"category",t)},expression:"newComplaint.category"}},[o("md-option",{attrs:{disabled:"",value:""}},[e._v("Select Category")]),e._v(" "),e._l(e.categories,function(t){return o("md-option",{key:t.key,attrs:{value:t.value}},[e._v("\n              "+e._s(t.value)+"\n            ")])})],2)],1),e._v(" "),o("h2",{attrs:{align:"left"}},[o("u",[e._v("Sub Category")])]),e._v(" "),o("md-field",[o("label",[e._v("Sub-category")]),e._v(" "),o("md-select",{attrs:{name:"category",id:"category"},model:{value:e.newComplaint.sub_category,callback:function(t){e.$set(e.newComplaint,"sub_category",t)},expression:"newComplaint.sub_category"}},[o("md-option",{attrs:{disabled:"",value:""}},[e._v("Select Noise Type")]),e._v(" "),e._l(e.sub_categories,function(t){return o("md-option",{key:t.key,attrs:{value:t.value}},[e._v("\n              "+e._s(t.value)+"\n            ")])})],2)],1)],1),e._v(" "),o("md-step",{attrs:{id:e.formSteps[2],"md-label":e.formIndex[2],"md-done":!0===e.mapInteracted},on:{click:function(t){e.formIndex=2}}},[o("br"),e._v(" "),o("md-field",[o("label",[e._v("Location (Search by Address):")]),e._v(" "),o("md-input",{attrs:{id:"addressBox"}}),e._v(" "),o("span",{staticClass:"md-helper-text"},[e._v("e.g. Regnbuepladsen 7")])],1),e._v(" "),o("md-button",{staticClass:"md-raised",on:{click:function(t){e.searchAddress(e.lookupAddress)}}},[e._v("Search")]),e._v(" "),o("md-button",{staticClass:"md-raised",on:{click:function(t){e.resetMarker()}}},[e._v("Reset")]),e._v(" "),o("br"),e._v(" "),o("span",{staticStyle:{"text-align":"center"},attrs:{id:"locationDisplay"}},[e._v("Please drag the arrow to your location.")]),e._v(" "),o("leaflet-map",{attrs:{id:"myMap",newCoords:{latitude:e.newComplaint.latitude,longitude:e.newComplaint.longitude}},on:{coordsChanged:e.onDragMapCoords}})],1),e._v(" "),o("md-step",{attrs:{id:e.formSteps[3],"md-label":e.formIndex[3],"md-done":e.formIndex>3},on:{click:function(t){e.formIndex=3}}},[o("md-field",[o("label",[e._v("Comments:")]),e._v(" "),o("md-textarea",{model:{value:e.newComplaint.comments,callback:function(t){e.$set(e.newComplaint,"comments",t)},expression:"newComplaint.comments"}})],1)],1),e._v(" "),o("md-step",{attrs:{id:e.formSteps[4],"md-label":e.formIndex[4]},on:{click:function(t){e.formIndex=4}}},[e.formIndex===e.endFormIndex&&"Police"===e.returnParty?[o("h2",[e._v("Thank you")]),e._v(" "),o("p",[e._v("Your complaint has been submitted")]),e._v(" "),o("P",[e._v("If you require immediate action, please call the police at 114.")])]:e._e(),e._v(" "),e.formIndex===e.endFormIndex&&"Noise Guard"===e.returnParty?[e.formIndex===e.endFormIndex&&"Noise Guard"===e.returnParty?[o("h2",[e._v("Please contact another authority!")]),e._v(" "),o("p",[e._v("We are currently only accepting complaints from the following categories:")]),e._v(" "),o("ul",{attrs:{id:"NGlist"}},[o("li",[e._v("Street Noise")]),e._v(" "),o("li",[e._v("Private Celebrations")])]),e._v(" "),o("p",[e._v("If you would like to submit a complaint about anything else, please visit the København Kommune’s noise\n            complaint form via this link:\n            "),o("a",{attrs:{href:"https://www.kk.dk/støj"}},[e._v("https://www.kk.dk/støj")])]),e._v(" "),o("p",[e._v("If you would like to submit a complaint about noise generated by cafes, restaurants,\n            events or other venues, please contact the Noise Unit during the day or the Noise Guard at night.")]),e._v(" "),o("p",[e._v("Noise Unit: Man-Tors 9:00-15:00. Tel. 26 86 58 27")]),e._v(" "),o("p",[e._v("Noise Guard: Tors 19:00-01:00, Fre-Lør 21:00-03:00. Tel. 33 66 25 85")])]:e._e()]:e._e()],2)],1),e._v(" "),o("br"),e._v(" "),o("div",[e.formIndex>0&&e.formIndex<e.endFormIndex?[o("md-button",{staticClass:"md-raised md-primary",on:{click:function(t){e.backButtonPressed()}}},[e._v("Back")])]:e._e(),e._v(" "),e.formIndex<e.endFormIndex-1&&e.getCookie("username").length>0?[o("md-button",{staticClass:"md-raised md-primary",attrs:{id:"nextButton"},on:{click:function(t){e.nextButtonPressed()}}},[e._v("Next")])]:e._e(),e._v(" "),e.formIndex===e.endFormIndex-1?[o("md-button",{staticClass:"md-raised md-primary",on:{click:function(t){e.submitComplaint(e.myCredentials,e.newComplaint)}}},[e._v("Submit\n      ")])]:e._e()],2)],1)},staticRenderFns:[]};var I=o("VU/8")(w,x,!1,function(e){o("/8HW")},"data-v-57085b19",null).exports,T={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("About")]),e._v(" "),n("p",[e._v("This app was developed for the purpose of collecting data on noise disturbances throughout the city of\n    Copenhagen. Each complaint submitted through this app will be entered into a database that will help create\n    a deeper understanding of the nightlife noise problem in Copenhagen. We hope that the data collected by this\n    app will help raise awareness of the nightlife noise problem, and provide evidence to promote changes in the\n    way that noise complaints are handled.")]),e._v(" "),n("h2",[e._v("Developed by:")]),e._v(" "),n("p",[e._v("Christopher Cyr, Brent Reissman, Michael Taylor and Chad Underhill,\n    from the Worcester Polytechnic Institute under the guidance and supervision of Centerleader\n    Marianne Spang Bech from Miljøpunkt Indre By and Christianshavn")]),e._v(" "),n("img",{attrs:{alt:"WPIxMiljopunkt",src:o("Jq5x")}})])}]};var P=o("VU/8")({name:"about"},T,!1,function(e){o("BZUQ")},"data-v-d28f4820",null).exports,M={name:"CreateAUser",mixins:[y],data:function(){return{myCredentials:{username:"",password:"",confirmPassword:"",firstName:"",lastName:""},loggedIn:!1,errorMessage:"",invalidToken:!1,invalidCreation:!1,rememberMe:!0,cookieWarning:!1}},methods:{createUser:function(e){if(this.checkCookie()){y.methods.postToUsers(this.$api,e,function(t,o,n){var a={username:e.username,password:e.password,token:""};o.invalidCreation=!1;var i=function(e,t){console.log("Complaint Success"),t.invalidToken=!1,location.reload(!0),t.$router.push("Login")};n.postToGetToken(o.$api,a,i,function(e,t){console.log(e),t.invalidToken=!0},o,o.rememberMe)},function(e,t){console.log(e),t.errorMessage=e.message,t.invalidCreation=!0},this)}else this.cookieWarning=!0},getCookie:function(e){for(var t=e+"=",o=decodeURIComponent(document.cookie).split(";"),n=0;n<o.length;n++){for(var a=o[n];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(t))return console.log(a.substring(t.length,a.length)),a.substring(t.length,a.length)}return""},checkForToken:function(){return this.myCredentials.token=this.getCookie("token"),console.log(this.myCredentials.token),this.myCredentials.token.length>0},logout:function(){y.methods.clearAllCookies(),this.loggedIn=!1,location.reload(!0)},checkCookie:function(){var e=navigator.cookieEnabled;return e||(document.cookie="testcookie",e=-1!==document.cookie.indexOf("testcookie")),e||this.showCookieFail()},showCookieFail:function(){return!1}},mounted:function(){this.loggedIn=this.checkForToken()},updated:function(){this.loggedIn=this.checkForToken()}},U={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h1",[e._v("Register")]),e._v(" "),this.loggedIn?[o("h2",[e._v("Please log out before creating a new account")]),e._v(" "),o("md-button",{staticClass:"md-raised md-primary",on:{click:function(t){e.logout()}}},[e._v("Log Out")])]:e._e(),e._v(" "),this.loggedIn?e._e():o("form",[o("md-field",[o("label",[e._v("Username:")]),e._v(" "),o("md-input",{attrs:{type:"text"},model:{value:e.myCredentials.username,callback:function(t){e.$set(e.myCredentials,"username",t)},expression:"myCredentials.username"}})],1),e._v(" "),o("md-field",[o("label",[e._v("Password:")]),e._v(" "),o("md-input",{attrs:{type:"password"},model:{value:e.myCredentials.password,callback:function(t){e.$set(e.myCredentials,"password",t)},expression:"myCredentials.password"}})],1),e._v(" "),o("md-field",[o("label",[e._v("Confirm Password:")]),e._v(" "),o("md-input",{attrs:{type:"password"},model:{value:e.myCredentials.confirmPassword,callback:function(t){e.$set(e.myCredentials,"confirmPassword",t)},expression:"myCredentials.confirmPassword"}}),e._v(" "),e.myCredentials.password!==e.myCredentials.confirmPassword?o("span",{staticStyle:{color:"darkred","margin-right":"35px","margin-top":"5px"}},[e._v("Passwords do not match")]):e._e()],1),e._v(" "),o("md-field",[o("label",[e._v("First Name:")]),e._v(" "),o("md-input",{attrs:{type:"text"},model:{value:e.myCredentials.firstName,callback:function(t){e.$set(e.myCredentials,"firstName",t)},expression:"myCredentials.firstName"}})],1),e._v(" "),o("md-field",[o("label",[e._v("Last Name:")]),e._v(" "),o("md-input",{attrs:{type:"text"},model:{value:e.myCredentials.lastName,callback:function(t){e.$set(e.myCredentials,"lastName",t)},expression:"myCredentials.lastName"}})],1),e._v(" "),o("md-checkbox",{staticClass:"md-primary",model:{value:e.rememberMe,callback:function(t){e.rememberMe=t},expression:"rememberMe"}}),e._v(" "),o("span",[e._v("Remember Me")]),e._v(" "),o("br"),e._v(" "),e.rememberMe?o("span",[e._v("Your credentials will be saved for 7 days or until you log out")]):e._e(),e._v(" "),o("br"),e._v(" "),o("span",[e._v("Our website uses cookies to store your authentication details.")]),e._v(" "),o("br"),e._v(" "),o("a",{attrs:{href:"https://www.whatismybrowser.com/guides/how-to-enable-cookies/"}},[e._v("How do I enable cookies?")]),e._v(" "),o("br"),e._v(" "),o("md-button",{staticClass:"md-raised md-primary",attrs:{type:"button",value:"submit"},on:{click:function(t){e.createUser(e.myCredentials)}}},[e._v("Create")]),e._v(" "),e.cookieWarning?[o("h2",{staticClass:"cookieMsg"},[e._v("Cookies Required")]),e._v(" "),o("p",{staticClass:"cookieMsg"},[e._v("Cookies are not enabled on your browser. Please enable cookies in your browser preferences to continue.")])]:e._e(),e._v(" "),e.invalidCreation?o("p",{staticClass:"err"},[e._v(e._s(e.errorMessage)+". The username may be taken. Please try again with a different username or at a later date")]):e._e(),e._v(" "),e.invalidToken?o("p",{staticClass:"err"},[e._v("Error: invalid token")]):e._e()],2)],2)},staticRenderFns:[]};var S=o("VU/8")(M,U,!1,function(e){o("IFS7")},"data-v-5c0e8b40",null).exports,A={name:"Login",mixins:[y],data:function(){return{myCredentials:{username:"",password:"",token:""},invalidToken:!1,loggedIn:!1,rememberMe:!0,cookieWarning:!1}},methods:{login:function(){if(this.checkCookie()){y.methods.postToGetToken(this.$api,this.myCredentials,function(e,t){console.log("Complaint Success"),t.invalidToken=!1,t.loggedIn=!0,t.$router.push("Login"),location.reload(!0)},function(e,t){console.log(e),t.invalidToken=!0},this,this.rememberMe)}else this.cookieWarning=!0},logout:function(){y.methods.clearAllCookies(),this.loggedIn=!1,location.reload(!0)},getCookie:function(e){for(var t=e+"=",o=decodeURIComponent(document.cookie).split(";"),n=0;n<o.length;n++){for(var a=o[n];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(t))return console.log(a.substring(t.length,a.length)),a.substring(t.length,a.length)}return""},deleteCookie:function(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"},checkForToken:function(){return this.myCredentials.token=this.getCookie("token"),console.log(this.myCredentials.token),this.myCredentials.token.length>0},checkCookie:function(){var e=navigator.cookieEnabled;return e||(document.cookie="testcookie",e=-1!==document.cookie.indexOf("testcookie")),e||this.showCookieFail()},showCookieFail:function(){return!1}},mounted:function(){this.loggedIn=this.checkForToken()},updated:function(){this.loggedIn=this.checkForToken()}},N={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h1",[e._v("Account")]),e._v(" "),e.loggedIn?e._e():[o("md-field",[o("label",[e._v("Username:")]),e._v(" "),o("md-input",{model:{value:e.myCredentials.username,callback:function(t){e.$set(e.myCredentials,"username",t)},expression:"myCredentials.username"}})],1),e._v(" "),o("md-field",[o("label",[e._v("Password:")]),e._v(" "),o("md-input",{attrs:{type:"password"},model:{value:e.myCredentials.password,callback:function(t){e.$set(e.myCredentials,"password",t)},expression:"myCredentials.password"}})],1),e._v(" "),o("md-checkbox",{staticClass:"md-primary",model:{value:e.rememberMe,callback:function(t){e.rememberMe=t},expression:"rememberMe"}}),e._v(" "),o("span",[e._v("Remember Me")]),e._v(" "),o("br"),e._v(" "),e.rememberMe?o("span",[e._v("Your credentials will be saved for 7 days or until you log out")]):e._e(),e._v(" "),o("br"),e._v(" "),o("br"),e._v(" "),o("span",[e._v("Our website uses cookies to store your authentication details.")]),e._v(" "),o("br"),e._v(" "),o("a",{attrs:{href:"https://www.whatismybrowser.com/guides/how-to-enable-cookies/"}},[e._v("How do I enable cookies?")]),e._v(" "),o("br"),e._v(" "),o("md-button",{staticClass:"md-raised md-primary",on:{click:function(t){e.login()}}},[e._v("Log In")]),e._v(" "),e.invalidToken?o("p",{attrs:{id:"errorMsg"}},[e._v("Invalid username or password, please try again")]):e._e(),e._v(" "),e.cookieWarning?[o("h2",{staticClass:"cookieMsg"},[e._v("Cookies Required")]),e._v(" "),o("p",{staticClass:"cookieMsg"},[e._v("Cookies are not enabled on your browser. Please enable cookies in your browser preferences to continue.")])]:e._e()],e._v(" "),e.loggedIn?[o("h1",[e._v("You are logged in as "+e._s(e.getCookie("username")))]),e._v(" "),o("md-button",{staticClass:"md-raised md-primary",on:{click:function(t){e.logout()}}},[e._v("Log Out")])]:e._e()],2)},staticRenderFns:[]};var F=o("VU/8")(A,N,!1,function(e){o("fU4l")},"data-v-f551061a",null).exports;n.default.use(s.a);var L=new s.a({routes:[{path:"/",name:"MainMenu",component:d},{path:"/SubmitAComplaint",name:"SubmitAComplaint",component:I},{path:"/About",name:"About",component:P},{path:"/CreateAUser",name:"CreateAUser",component:S},{path:"/Login",name:"Login",component:F}]}),$=o("8+8L"),R=o("Lgyv"),B=o.n(R);o("4+hh"),o("Ii5r");n.default.use(B.a),n.default.use($.a),n.default.config.productionTip=!1;n.default.prototype.$api="http://18.195.234.213:8000",new n.default({el:"#app",router:L,components:{App:r},template:"<App/>"})},P0de:function(e,t){},fU4l:function(e,t){},he8f:function(e,t){},khIr:function(e,t){}},["NHnr"]);