webpackJsonp([1],{"+6/a":function(e,t){},"+zJE":function(e,t){},0:function(e,t){},"05RE":function(e,t){},"4+hh":function(e,t){},"4fhJ":function(e,t){},Ii5r:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"page-container"},[t("md-app",{attrs:{"md-waterfall":"","md-mode":"fixed-last"}},[t("md-app-toolbar",{staticClass:"md-large md-dense md-primary"},[t("div",{staticClass:"md-toolbar-row"},[t("div",{staticClass:"md-toolbar-section-start"},[t("span",{staticClass:"md-title"},[this._v("Noise Complaint App")])])]),this._v(" "),t("div",{staticClass:"md-toolbar-row"},[t("md-tabs",{staticClass:"md-primary"},[t("md-tab",{attrs:{id:"tab-menu","md-label":"Menu",to:"/"}}),this._v(" "),t("md-tab",{attrs:{id:"tab-submit","md-label":"Submit A Complaint",to:"SubmitAComplaint"}}),this._v(" "),t("md-tab",{attrs:{id:"tab-create","md-label":"Create An Account",to:"CreateAUser"}}),this._v(" "),t("md-tab",{attrs:{id:"tab-about","md-label":"About",to:"About"}})],1)],1)]),this._v(" "),t("md-app-content",[t("br"),this._v(" "),t("router-view")],1)],1)],1)])},staticRenderFns:[]};var r=a("VU/8")({name:"App",data:function(){return{menuVisible:!1}}},o,!1,function(e){a("hSHb"),a("+zJE")},"data-v-de7fae20",null).exports,i=a("/ocq"),s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",[e._v("Main Menu")]),e._v(" "),a("router-link",{attrs:{to:"SubmitAComplaint"}},[e._v("Submit A Complaint")]),e._v(" "),a("br"),e._v(" "),a("router-link",{attrs:{to:"About"}},[e._v("About")]),e._v(" "),a("br"),e._v(" "),a("router-link",{attrs:{to:"CreateAUser"}},[e._v("Create A User")])],1)},staticRenderFns:[]};var d=a("VU/8")({name:"main-menu"},s,!1,function(e){a("zeyV")},"data-v-b7116798",null).exports,l=a("mvHQ"),m=a.n(l),u=a("Xxa5"),c=a.n(u),p=a("exGp"),v=a.n(p),f=a("nrd6"),_=a.n(f),h={name:"leaflet-map",props:{newCoords:{latitude:{type:Number,default:0},longitude:{type:Number,default:0}}},data:function(){return{mymap:{},myMarker:{},curCoords:{latCoord:{type:Number,default:0},longCoord:{type:Number,default:0}}}},mounted:function(){var e=_.a.map("mapid",{minZoom:13,maxZoom:18,maxBounds:[[55.71,12.5],[55.65,12.66]]}).setView([55.679479,12.56947],13);_.a.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw",{attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',id:"mapbox.streets"}).addTo(e),this.myMarker=_.a.marker([55.679479,12.56947],{draggable:!0}).addTo(e).bindPopup("<b>Location</b><br />Drag me to your location.").openPopup();var t=this;this.myMarker.on("dragend",function(e){t.curCoords.latCoord=this.getLatLng().lat,t.curCoords.longCoord=this.getLatLng().lng,t.$emit("coordsChanged",t.curCoords)}),this.mymap=e},methods:{updateCoords:function(){this.curCoords.latCoord=this.newCoords.latitude,this.curCoords.longCoord=this.newCoords.longitude,this.mymap.setView([this.curCoords.latCoord,this.curCoords.longCoord],this.mymap.getZoom()),this.myMarker.setLatLng([this.curCoords.latCoord,this.curCoords.longCoord]).update()}},watch:{newCoords:{handler:function(e,t){this.updateCoords()}}}},C={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",this._b({attrs:{id:"mapid"}},"div",this.mymap,!1))])},staticRenderFns:[]};var b=a("VU/8")(h,C,!1,function(e){a("05RE")},"data-v-051c82ff",null).exports,y=a("E+XS"),g={name:"SubmitAComplaint",props:{},components:{"leaflet-map":b},data:function(){return{newComplaint:{username:"invalid",password:"noPassword",category:"Street Noise",severity:"1",latitude:0,longitude:0,comments:"",imageUP:null,audioUP:null},lookupAddress:"",provider:null,formIndex:0,endFormIndex:4,myCredentials:{},imageUpload:null,audioUpload:null,categories:[{key:1,value:"Street Noise"},{key:2,value:"Automobile"},{key:3,value:"Business Noise"}],severityRatings:[{key:1,value:"1"},{key:2,value:"2"},{key:3,value:"3"},{key:4,value:"4"},{key:5,value:"5"},{key:6,value:"6"},{key:7,value:"7"},{key:8,value:"8"},{key:9,value:"9"},{key:10,value:"10"}]}},methods:{searchAddress:function(){var e=this;return v()(c.a.mark(function t(){var a,n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=document.getElementById("addressBox").value,t.next=3,e.provider.search({query:a});case 3:n=t.sent,e.newComplaint.longitude=n[0].x,e.newComplaint.latitude=n[0].y;case 6:case"end":return t.stop()}},t,e)}))()},getUserLocation:function(){var e,t=this;e=function(e){null!=e&&(t.newComplaint.latitude=e.coords.latitude,t.newComplaint.longitude=e.coords.longitude)},navigator.geolocation?navigator.geolocation.getCurrentPosition(e):e(null)},backButtonPressed:function(){this.formIndex>0&&(this.formIndex=this.formIndex-1)},nextButtonPressed:function(){this.formIndex<this.endFormIndex-1&&(this.formIndex=this.formIndex+1)},onDragMapCoords:function(e){this.newComplaint.latitude=e.latCoord,this.newComplaint.longitude=e.longCoord},onImageSelected:function(e){this.imageUpload=e.target.files[0],this.newComplaint.imageUP=this.imageUpload},onAudioSelected:function(e){this.audioUpload=e.target.files[0],this.newComplaint.audioUP=this.audioUpload},submitComplaint:function(e,t){this.formIndex===this.endFormIndex-1&&(this.sendToDatabase(e,t),this.formIndex=this.formIndex+1)},compileCredentials:function(e){var t=new FormData;return t.append("username",e.username),t.append("password",e.password),t},compileComplaint:function(e){var t=new FormData;return t.append("severity",e.severity),t.append("category",e.category),t.append("latitude",String(e.latitude)),t.append("longitude",String(e.longitude)),t.append("comments",e.comments),null!=e.imageUP&&t.append("image",e.imageUP,e.imageUP.name),null!=e.audioUP&&t.append("audio",e.audioUP,e.audioUP.name),t},sendToDatabase:function(e,t){var a=this.compileCredentials(e),n=this.compileComplaint(t);fetch("http://18.197.28.234:8000/get-token/",{mode:"cors",body:a,method:"POST"}).then(function(e){return e.json()}).then(function(e){return m()(e.token)}).then(function(e){return"Token "+JSON.parse(e)}).then(function(e){fetch("http://18.197.28.234:8000/complaints/",{mode:"cors",headers:{Authorization:e},body:n,method:"POST"}).then(function(e){alert("Your complaint has been submitted!"),alert("Complaint Data: "+m()(e))})})}},created:function(){},mounted:function(){this.provider=new y.OpenStreetMapProvider}},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"greetings"},[a("h2",[e._v("Submit A Complaint")]),e._v(" "),a("form",[0===e.formIndex?[a("md-field",[a("label",[e._v("Username:")]),e._v(" "),a("md-input",{model:{value:e.myCredentials.username,callback:function(t){e.$set(e.myCredentials,"username",t)},expression:"myCredentials.username"}})],1),e._v(" "),a("md-field",[a("label",[e._v("Password:")]),e._v(" "),a("md-input",{attrs:{type:"password"},model:{value:e.myCredentials.password,callback:function(t){e.$set(e.myCredentials,"password",t)},expression:"myCredentials.password"}})],1)]:e._e(),e._v(" "),1===e.formIndex?[a("md-field",[a("label",{attrs:{for:"severity"}},[e._v("Severity")]),e._v(" "),a("md-select",{attrs:{name:"severity",id:"severity"},model:{value:e.severity,callback:function(t){e.severity=t},expression:"severity"}},[a("md-option",{attrs:{disabled:"",value:""}},[e._v("Select Severity")]),e._v(" "),a("md-option",{attrs:{value:"1"}},[e._v("1")]),e._v(" "),a("md-option",{attrs:{value:"2"}},[e._v("2")]),e._v(" "),a("md-option",{attrs:{value:"3"}},[e._v("3")]),e._v(" "),a("md-option",{attrs:{value:"4"}},[e._v("4")]),e._v(" "),a("md-option",{attrs:{value:"5"}},[e._v("5")])],1)],1),e._v(" "),a("md-field",[a("label",{attrs:{for:"category"}},[e._v("Category")]),e._v(" "),a("md-select",{attrs:{name:"category",id:"category"},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}},[a("md-option",{attrs:{disabled:"",value:""}},[e._v("Select Category")]),e._v(" "),a("md-option",{attrs:{value:"Business Venue"}},[e._v("Business Venue")]),e._v(" "),a("md-option",{attrs:{value:"Construction"}},[e._v("Construction")]),e._v(" "),a("md-option",{attrs:{value:"Traffic"}},[e._v("Traffic")]),e._v(" "),a("md-option",{attrs:{value:"Street Noise"}},[e._v("Street Noise")]),e._v(" "),a("md-option",{attrs:{value:"Private Party"}},[e._v("Private Party")]),e._v(" "),a("md-option",{attrs:{value:"Other"}},[e._v("Other")])],1)],1)]:e._e(),e._v(" "),2===e.formIndex?[a("span",[e._v("Location")]),e._v(" "),a("br"),e._v(" "),a("md-field",[a("label",[e._v("Latitude:")]),e._v(" "),a("md-input",{model:{value:e.newComplaint.latitude,callback:function(t){e.$set(e.newComplaint,"latitude",t)},expression:"newComplaint.latitude"}})],1),e._v(" "),a("md-field",[a("label",[e._v("Longitude:")]),e._v(" "),a("md-input",{model:{value:e.newComplaint.longitude,callback:function(t){e.$set(e.newComplaint,"longitude",t)},expression:"newComplaint.longitude"}})],1),e._v(" "),a("md-button",{staticClass:"md-raised",on:{click:function(t){e.getUserLocation(this)}}},[e._v("Auto Detect My Location")]),e._v(" "),a("md-field",[a("label",[e._v("Search by Address:")]),e._v(" "),a("md-input",{attrs:{id:"addressBox"}})],1),e._v(" "),a("md-button",{staticClass:"md-raised",on:{click:function(t){e.searchAddress(e.lookupAddress)}}},[e._v("Search")]),e._v(" "),a("p",{attrs:{id:"locationDisplay"}},[e._v("Please drag the arrow to your location.")]),e._v(" "),a("leaflet-map",{attrs:{id:"myMap",newCoords:{latitude:e.newComplaint.latitude,longitude:e.newComplaint.longitude}},on:{coordsChanged:e.onDragMapCoords}})]:e._e(),e._v(" "),3===e.formIndex?[a("md-field",[a("label",[e._v("Comments:")]),e._v(" "),a("md-textarea",{model:{value:e.newComplaint.comments,callback:function(t){e.$set(e.newComplaint,"comments",t)},expression:"newComplaint.comments"}})],1),e._v(" "),a("md-field",[a("label",[e._v("Image")]),e._v(" "),a("md-file",{attrs:{accept:"image/*",placeholder:"Upload image file..."},on:{change:e.onImageSelected}})],1),e._v(" "),a("md-field",[a("label",[e._v("Audio")]),e._v(" "),a("md-file",{attrs:{accept:"audio/*",placeholder:"Upload audio file..."},on:{change:e.onAudioSelected}})],1)]:e._e(),e._v(" "),e.formIndex===e.endFormIndex?[a("h3",[e._v("Thank you")]),e._v(" "),a("p",[e._v("Your complaint has been submitted")])]:e._e(),e._v(" "),a("br"),e._v(" "),a("div",[e.formIndex>0&&e.formIndex<e.endFormIndex?[a("md-button",{staticClass:"md-raised md-primary",on:{click:function(t){e.backButtonPressed()}}},[e._v("Back")])]:e._e(),e._v(" "),e.formIndex<e.endFormIndex-1?[a("md-button",{staticClass:"md-raised md-primary",on:{click:function(t){e.nextButtonPressed()}}},[e._v("Next")])]:e._e(),e._v(" "),e.formIndex===e.endFormIndex-1?[a("md-button",{staticClass:"md-raised md-primary",on:{click:function(t){e.submitComplaint(e.myCredentials,e.newComplaint)}}},[e._v("Submit")])]:e._e()],2)],2)])},staticRenderFns:[]};var x=a("VU/8")(g,w,!1,function(e){a("4fhJ")},"data-v-7a3cc506",null).exports,k={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("H2",[this._v("About")]),this._v(" "),t("p",[this._v("Information about the app goes here")])],1)},staticRenderFns:[]};var A=a("VU/8")({name:"about"},k,!1,function(e){a("zQcb")},"data-v-29b1a03e",null).exports,I={name:"CreateAUser",data:function(){return{myCredentials:{username:"",password:"",confirmPassword:"",firstName:"",lastName:""}}},methods:{compileCredentials:function(e){var t=new FormData;return t.append("username",e.username),t.append("password",e.password),t.append("first_name",e.firstName),t.append("last_name",e.lastName),t},createUser:function(e){var t=this.compileCredentials(e);fetch("http://18.197.28.234:8000/users/",{mode:"cors",body:t,method:"POST"}).then(function(e){return e.json()}).then(function(e){return m()(e)}).then(function(e){return alert("Server Response: "+e)})}}},S={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",[e._v("Create A User")]),e._v(" "),a("form",[a("md-field",[a("label",[e._v("Username:")]),e._v(" "),a("md-input",{attrs:{type:"text",placeholder:"username"},model:{value:e.myCredentials.username,callback:function(t){e.$set(e.myCredentials,"username",t)},expression:"myCredentials.username"}})],1),e._v(" "),a("md-field",[a("label",[e._v("Password:")]),e._v(" "),a("md-input",{attrs:{type:"password",placeholder:"password"},model:{value:e.myCredentials.password,callback:function(t){e.$set(e.myCredentials,"password",t)},expression:"myCredentials.password"}})],1),e._v(" "),a("md-field",[a("label",[e._v("Confirm Password:")]),e._v(" "),a("md-input",{attrs:{type:"password",placeholder:"confirm password"},model:{value:e.myCredentials.confirmPassword,callback:function(t){e.$set(e.myCredentials,"confirmPassword",t)},expression:"myCredentials.confirmPassword"}}),e._v(" "),e.myCredentials.password!==e.myCredentials.confirmPassword?a("p",[e._v("Passwords do not match")]):e._e()],1),e._v(" "),a("md-field",[a("label",[e._v("First Name:")]),e._v(" "),a("md-input",{attrs:{type:"text",placeholder:"First Name"},model:{value:e.myCredentials.firstName,callback:function(t){e.$set(e.myCredentials,"firstName",t)},expression:"myCredentials.firstName"}})],1),e._v(" "),a("md-field",[a("label",[e._v("Last Name:")]),e._v(" "),a("md-input",{attrs:{type:"text",placeholder:"Last Name"},model:{value:e.myCredentials.lastName,callback:function(t){e.$set(e.myCredentials,"lastName",t)},expression:"myCredentials.lastName"}})],1),e._v(" "),a("md-button",{staticClass:"md-raised md-primary",attrs:{type:"button",value:"submit"},on:{click:function(t){e.createUser(e.myCredentials)}}},[e._v("Create")])],1)])},staticRenderFns:[]};var P=a("VU/8")(I,S,!1,function(e){a("+6/a")},"data-v-3df5a496",null).exports;n.default.use(i.a);var U=new i.a({routes:[{path:"/",name:"MainMenu",component:d},{path:"/SubmitAComplaint",name:"SubmitAComplaint",component:x},{path:"/About",name:"About",component:A},{path:"/CreateAUser",name:"CreateAUser",component:P}]}),N=a("8+8L"),F=a("Lgyv"),L=a.n(F);a("4+hh"),a("Ii5r");n.default.use(L.a),n.default.use(N.a),n.default.config.productionTip=!1,new n.default({el:"#app",router:U,components:{App:r},template:"<App/>"})},hSHb:function(e,t){},zQcb:function(e,t){},zeyV:function(e,t){}},["NHnr"]);